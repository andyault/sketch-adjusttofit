{"version":3,"sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/index.js","webpack://exports/./src/util.js","webpack://exports/external \"sketch\""],"names":["sketch","require","util","app","useCustomFunction","adjustSelected","runPlugin","adjustNested","adjustSelectedInvisible","adjustNestedInvisible","includeInvisible","nested","document","getSelectedDocument","layers","selectedLayers","results","adjustLayers","UI","message","resultsString","forEach","layer","layerResults","nestedResults","cat","hasOwnProperty","failed","oldHeight","sketchObject","frame","height","result","adjustToFit","newHeight","type","toLowerCase","adjustLayerToFit","adjustTextToFit","newFrame","x","Infinity","y","width","child","Math","min","max","offset","firstFrag","fragments","lastFrag","length","oldY","newY","rect","numFailed","numUnaffected","unaffected","plurals","num","push","pluralize","ret","commify","join","module","exports","string","arr","last","pop"],"mappings":";;;;;;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA,IAAMA,SAAS,mBAAAC,CAAQ,sBAAR,CAAf;;AACA,IAAMC,OAAO,mBAAAD,CAAQ,6BAAR,CAAb,C,CAEA;;;AACA,IAAIE,MAAM;AACTC,qBAAmB;AADV,CAAV,C,CAIA;;AACA;;;;AAGAD,IAAIE,cAAJ,GAAqB,YAAW;AAC/BF,MAAIG,SAAJ,CAAc,KAAd,EAAqB,KAArB;AACA,CAFD;AAIA;;;;;AAGAH,IAAII,YAAJ,GAAmB,YAAW;AAC7BJ,MAAIG,SAAJ,CAAc,KAAd,EAAqB,IAArB;AACA,CAFD;AAIA;;;;;AAGAH,IAAIK,uBAAJ,GAA8B,YAAW;AACxCL,MAAIG,SAAJ,CAAc,IAAd,EAAoB,KAApB;AACA,CAFD;AAIA;;;;;AAGAH,IAAIM,qBAAJ,GAA4B,YAAW;AACtCN,MAAIG,SAAJ,CAAc,IAAd,EAAoB,IAApB;AACA,CAFD,C,CAIA;;AACA;;;;;;;AAKAH,IAAIG,SAAJ,GAAgB,UAASI,gBAAT,EAA2BC,MAA3B,EAAmC;AAClD,MAAIC,WAAWZ,OAAOa,mBAAP,EAAf;AACA,MAAIC,SAASF,SAASG,cAAtB;AAEAZ,MAAIC,iBAAJ,GAAwBM,gBAAxB;AAEA,MAAIM,UAAUb,IAAIc,YAAJ,CAAiBH,MAAjB,EAAyBH,MAAzB,CAAd;AAEAX,SAAOkB,EAAP,CAAUC,OAAV,CAAkBhB,IAAIiB,aAAJ,CAAkBJ,OAAlB,CAAlB;AACA,CATD;AAWA;;;;;;;;AAMAb,IAAIc,YAAJ,GAAmB,UAASH,MAAT,EAAiBH,MAAjB,EAAyB;AAC3C,MAAIK,UAAU,EAAd;AAEAF,SAAOO,OAAP,CAAe,UAACC,KAAD,EAAW;AACzB,QAAIC,eAAe,EAAnB;;AAEA,QAAGZ,UAAUW,MAAMR,MAAnB,EAA2B;AAC1B,UAAIU,gBAAgBrB,IAAIc,YAAJ,CAAiBK,MAAMR,MAAvB,EAA+BH,MAA/B,CAApB;;AAEA,WAAI,IAAIc,IAAR,IAAeD,aAAf;AACC,YAAGA,cAAcE,cAAd,CAA6BD,IAA7B,CAAH,EACCF,eAAeC,aAAf;AAFF;;AAIA,aAAOD,aAAaI,MAApB;AACA,KAXwB,CAazB;;;AACA,QAAIC,YAAYN,MAAMO,YAAN,CAAmBC,KAAnB,GAA2BC,MAA3B,EAAhB;AAEA,QAAIC,SAAS7B,IAAI8B,WAAJ,CAAgBX,KAAhB,CAAb;AAEA,QAAIY,YAAYZ,MAAMO,YAAN,CAAmBC,KAAnB,GAA2BC,MAA3B,EAAhB,CAlByB,CAoBzB;;AACA,QAAIN,MAAM,QAAV;;AAEA,QAAGO,MAAH,EAAW;AACV,UAAGE,cAAcN,SAAjB,EACCH,MAAMH,MAAMa,IAAN,CAAWC,WAAX,EAAN,CADD,KAGCX,MAAM,YAAN;AACD,KA5BwB,CA8BzB;;;AACAF,iBAAaE,GAAb,IAAqBF,aAAaE,GAAb,IAAoB,CAArB,IAA2B,CAA/C,CA/ByB,CAiCzB;;AACA,SAAI,IAAIA,KAAR,IAAeF,YAAf;AACC,UAAGA,aAAaG,cAAb,CAA4BD,KAA5B,CAAH,EACCT,QAAQS,KAAR,IAAgBT,QAAQS,KAAR,IAAeF,aAAaE,KAAb,CAAhB,IAAsCF,aAAaE,KAAb,CAArD;AAFF;AAGA,GArCD;AAuCA,SAAOT,OAAP;AACA,CA3CD;AA6CA;;;;;;;AAKAb,IAAI8B,WAAJ,GAAkB,UAASX,KAAT,EAAgB;AACjC,UAAOA,MAAMa,IAAb;AACC,SAAK,OAAL;AACA,SAAK,UAAL;AACA,SAAK,cAAL;AACChC,UAAIkC,gBAAJ,CAAqBf,KAArB;AACA;;AAED,SAAK,MAAL;AACCnB,UAAImC,eAAJ,CAAoBhB,KAApB;AACA;;AAED;AACC,aAAO,KAAP;AAZF;;AAeA,SAAO,IAAP;AACA,CAjBD;AAmBA;;;;;;AAIAnB,IAAIkC,gBAAJ,GAAuB,UAASf,KAAT,EAAgB;AACtC,MAAGnB,IAAIC,iBAAP,EAA0B;AACzB;AACA;AACA,QAAImC,WAAW;AAAEC,SAAGC,QAAL;AAAeC,SAAGD,QAAlB;AAA4BE,aAAO,CAAnC;AAAsCZ,cAAQ;AAA9C,KAAf;AAEAT,UAAMR,MAAN,CAAaO,OAAb,CAAqB,UAACuB,KAAD,EAAW;AAC/BL,eAASC,CAAT,GAAkBK,KAAKC,GAAL,CAASP,SAASC,CAAlB,EAA0BI,MAAMd,KAAN,CAAYU,CAAtC,CAAlB;AACAD,eAASG,CAAT,GAAkBG,KAAKC,GAAL,CAASP,SAASG,CAAlB,EAA0BE,MAAMd,KAAN,CAAYY,CAAtC,CAAlB;AACAH,eAASI,KAAT,GAAkBE,KAAKE,GAAL,CAASR,SAASI,KAAlB,EAA0BC,MAAMd,KAAN,CAAYU,CAAZ,GAAgBI,MAAMd,KAAN,CAAYa,KAAtD,CAAlB;AACAJ,eAASR,MAAT,GAAkBc,KAAKE,GAAL,CAASR,SAASR,MAAlB,EAA0Ba,MAAMd,KAAN,CAAYY,CAAZ,GAAgBE,MAAMd,KAAN,CAAYC,MAAtD,CAAlB;AACA,KALD,EALyB,CAYzB;;AACAQ,aAASI,KAAT,IAAkBJ,SAASC,CAA3B;AACAD,aAASR,MAAT,IAAmBQ,SAASG,CAA5B;AAEApB,UAAMR,MAAN,CAAaO,OAAb,CAAqB,UAACuB,KAAD,EAAW;AAC/BA,YAAMd,KAAN,CAAYU,CAAZ,IAAiBD,SAASC,CAA1B;AACAI,YAAMd,KAAN,CAAYY,CAAZ,IAAiBH,SAASG,CAA1B;AACA,KAHD,EAhByB,CAqBzB;;AACApB,UAAMQ,KAAN,CAAYkB,MAAZ,CAAmBT,SAASC,CAA5B,EAA+BD,SAASG,CAAxC;AACApB,UAAMQ,KAAN,CAAYa,KAAZ,GAAoBJ,SAASI,KAA7B;AACArB,UAAMQ,KAAN,CAAYC,MAAZ,GAAqBQ,SAASR,MAA9B;AACA,GAzBD,MA0BCT,MAAMW,WAAN;AACD,CA5BD;AA8BA;;;;;;AAIA9B,IAAImC,eAAJ,GAAsB,UAAShB,KAAT,EAAgB;AACrC,MAAI2B,YAAY3B,MAAM4B,SAAN,CAAgB,CAAhB,CAAhB;AACA,MAAIC,WAAW7B,MAAM4B,SAAN,CAAgB5B,MAAM4B,SAAN,CAAgBE,MAAhB,GAAyB,CAAzC,CAAf,CAFqC,CAIrC;;AACA,MAAIC,OAAO/B,MAAMQ,KAAN,CAAYY,CAAvB;AACA,MAAIY,OAAOD,OAAOJ,UAAUM,IAAV,CAAeb,CAAjC,CANqC,CAQrC;;AACA,MAAId,YAAYN,MAAMQ,KAAN,CAAYC,MAA5B,CATqC,CAWrC;AACA;AACA;AAEA;AACA;;AACA,MAAIG,YAAYiB,SAASI,IAAT,CAAcb,CAAd,GAAkBS,SAASI,IAAT,CAAcxB,MAAhC,GAAyCkB,UAAUM,IAAV,CAAeb,CAAxE;;AAEA,MAAGR,cAAcN,SAAjB,EAA4B;AAC3BN,UAAMQ,KAAN,CAAYY,CAAZ,GAAgBY,IAAhB;AACAhC,UAAMQ,KAAN,CAAYC,MAAZ,GAAqBG,SAArB;AACA;AACD,CAvBD;AAyBA;;;;;;;AAKA/B,IAAIiB,aAAJ,GAAoB,UAASJ,OAAT,EAAkB;AACrC;AACA,MAAIwC,YAAYxC,QAAQW,MAAxB;AACA,SAAOX,QAAQW,MAAf;AAEA,MAAI8B,gBAAgBzC,QAAQ0C,UAA5B;AACA,SAAO1C,QAAQ0C,UAAf,CANqC,CAQrC;;AACA,MAAIC,UAAU,EAAd;;AAEA,OAAI,IAAIlC,GAAR,IAAeT,OAAf,EAAwB;AACvB,QAAGA,QAAQU,cAAR,CAAuBD,GAAvB,CAAH,EAAgC;AAC/B,UAAImC,MAAM5C,QAAQS,GAAR,CAAV,CAD+B,CAG/B;;AACA,UAAGA,QAAQ,MAAX,EAAmBA,MAAM,YAAN;AACnB,UAAGA,QAAQ,cAAX,EAA2BA,MAAM,QAAN;AAE3BkC,cAAQE,IAAR,CAAa3D,KAAK4D,SAAL,CAAeF,GAAf,EAAoBnC,GAApB,CAAb;AACA;AACD,GArBoC,CAuBrC;;;AACA,MAAIsC,MAAM,EAAV;AAEA,MAAGJ,QAAQP,MAAR,GAAiB,CAApB,EAAuBW,IAAIF,IAAJ,WAAY3D,KAAK8D,OAAL,CAAaL,OAAb,CAAZ;AACvB,MAAGF,gBAAgB,CAAnB,EAAsBM,IAAIF,IAAJ,WAAY3D,KAAK4D,SAAL,CAAeL,aAAf,EAA8B,OAA9B,CAAZ;AACtB,MAAGD,YAAY,CAAf,EAAkBO,IAAIF,IAAJ,WAAYL,SAAZ;AAElB,SAAOO,IAAIE,IAAJ,CAAS,IAAT,CAAP;AACA,CA/BD,C,CAiCA;;;AACAC,OAAOC,OAAP,CAAe9D,cAAf,GAAgCF,IAAIE,cAApC;AACA6D,OAAOC,OAAP,CAAe5D,YAAf,GAA8BJ,IAAII,YAAlC;AACA2D,OAAOC,OAAP,CAAe3D,uBAAf,GAAyCL,IAAIK,uBAA7C;AACA0D,OAAOC,OAAP,CAAe1D,qBAAf,GAAuCN,IAAIM,qBAA3C,C;;;;;;;;;;;AC3OA,IAAIP,OAAOgE,OAAOC,OAAP,GAAiB,EAA5B;AAEA;;;;;;;AAMAjE,KAAK4D,SAAL,GAAiB,UAASF,GAAT,EAAcQ,MAAd,EAAsB;AACtC,MAAGR,MAAM,CAAT,EAAYQ,UAAU,GAAV;AAEZ,mBAAUR,GAAV,cAAiBQ,MAAjB;AACA,CAJD;AAMA;;;;;;;AAKAlE,KAAK8D,OAAL,GAAe,UAASK,GAAT,EAAc;AAC5B,UAAOA,IAAIjB,MAAX;AACC,SAAK,CAAL;AACC;;AAED,SAAK,CAAL;AACC,aAAOiB,IAAI,CAAJ,CAAP;;AAED,SAAK,CAAL;AACC,uBAAUA,IAAI,CAAJ,CAAV,kBAAwBA,IAAI,CAAJ,CAAxB;;AAED;AACC,UAAIC,OAAOD,IAAIE,GAAJ,EAAX;AAEA,aAAOF,IAAIJ,IAAJ,CAAS,IAAT,mBAAyBK,IAAzB,CAAP;AAbF;AAeA,CAhBD,C;;;;;;;;;;;ACnBA,mC","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","//deps\nconst sketch = require('sketch');\nconst util = require('./util');\n\n//global object\nvar app = {\n\tuseCustomFunction: false\n};\n\n//public methods\n/**\n * call adjustToFit on the selected layers\n */\napp.adjustSelected = function() {\n\tapp.runPlugin(false, false);\n};\n\n/**\n * call adjustToFit on the selected layers and their children\n */\napp.adjustNested = function() {\n\tapp.runPlugin(false, true);\n};\n\n/**\n * call custom adjustToFit that includes invisible children on the selected layers\n */\napp.adjustSelectedInvisible = function() {\n\tapp.runPlugin(true, false);\n};\n\n/**\n * call custom adjustToFit that includes invisible children on the selected layers and their children\n */\napp.adjustNestedInvisible = function() {\n\tapp.runPlugin(true, true);\n};\n\n//private methods\n/**\n * Call adjustLayers and print results\n * @param [boolean] includeInvisible - whether to use custom adjustToFit function\n * @param [boolean] nested - whether to adjust children\n */\napp.runPlugin = function(includeInvisible, nested) {\n\tlet document = sketch.getSelectedDocument();\n\tlet layers = document.selectedLayers;\n\n\tapp.useCustomFunction = includeInvisible;\n\n\tlet results = app.adjustLayers(layers, nested);\n\n\tsketch.UI.message(app.resultsString(results));\n};\n\n/**\n * Recursive functions to call adjustToFit on the given layers and return the results\n * @param [SketchLayer[]] layers - the layers to adjust\n * @param [boolean] nested - Whether this function should be called recursively for layers with children\n * @returns [object] The results\n */\napp.adjustLayers = function(layers, nested) {\n\tlet results = {};\n\n\tlayers.forEach((layer) => {\n\t\tlet layerResults = {};\n\n\t\tif(nested && layer.layers) {\n\t\t\tlet nestedResults = app.adjustLayers(layer.layers, nested);\n\n\t\t\tfor(let cat in nestedResults)\n\t\t\t\tif(nestedResults.hasOwnProperty(cat))\n\t\t\t\t\tlayerResults = nestedResults;\n\n\t\t\tdelete layerResults.failed;\n\t\t}\n\n\t\t//keep track of whether or not the height was changed\n\t\tlet oldHeight = layer.sketchObject.frame().height();\n\n\t\tlet result = app.adjustToFit(layer);\n\n\t\tlet newHeight = layer.sketchObject.frame().height();\n\n\t\t//group results by layer type, 'unaffected', or 'failed'\n\t\tlet cat = 'failed';\n\n\t\tif(result) {\n\t\t\tif(newHeight !== oldHeight)\n\t\t\t\tcat = layer.type.toLowerCase()\n\t\t\telse\n\t\t\t\tcat = 'unaffected';\n\t\t}\n\n\t\t//add selected layer to layerResults\n\t\tlayerResults[cat] = (layerResults[cat] + 1) || 1;\n\n\t\t//add layerResults to results\n\t\tfor(let cat in layerResults)\n\t\t\tif(layerResults.hasOwnProperty(cat))\n\t\t\t\tresults[cat] = (results[cat] + layerResults[cat]) || layerResults[cat];\n\t});\n\n\treturn results;\n};\n\n/**\n * Call adjustToFit on a layer and return the result\n * @param [SketchLayer] layer - the layer to adjust\n * @returns [boolean] whether or not the layer was adjusted\n */\napp.adjustToFit = function(layer) {\n\tswitch(layer.type) {\n\t\tcase 'Group':\n\t\tcase 'Artboard':\n\t\tcase 'SymbolMaster':\n\t\t\tapp.adjustLayerToFit(layer);\n\t\t\tbreak;\n\n\t\tcase 'Text':\n\t\t\tapp.adjustTextToFit(layer);\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\treturn false;\n\t}\n\n\treturn true;\n};\n\n/**\n * Adjust a layer based on its contents\n * @param [SketchLayer] layer - the layer to adjust\n */\napp.adjustLayerToFit = function(layer) {\n\tif(app.useCustomFunction) {\n\t\t//make our own adjustToFit function\n\t\t//create a new rectangle for the layer\n\t\tlet newFrame = { x: Infinity, y: Infinity, width: 0, height: 0 };\n\n\t\tlayer.layers.forEach((child) => {\n\t\t\tnewFrame.x      = Math.min(newFrame.x,      child.frame.x);\n\t\t\tnewFrame.y      = Math.min(newFrame.y,      child.frame.y);\n\t\t\tnewFrame.width  = Math.max(newFrame.width,  child.frame.x + child.frame.width);\n\t\t\tnewFrame.height = Math.max(newFrame.height, child.frame.y + child.frame.height);\n\t\t});\n\n\t\t//adjust everything to new coordinates\n\t\tnewFrame.width -= newFrame.x;\n\t\tnewFrame.height -= newFrame.y;\n\n\t\tlayer.layers.forEach((child) => {\n\t\t\tchild.frame.x -= newFrame.x;\n\t\t\tchild.frame.y -= newFrame.y;\n\t\t});\n\n\t\t//apply new rectangle\n\t\tlayer.frame.offset(newFrame.x, newFrame.y)\n\t\tlayer.frame.width = newFrame.width;\n\t\tlayer.frame.height = newFrame.height;\n\t} else\n\t\tlayer.adjustToFit();\n};\n\n/**\n * Adjust a textbot based on its contents\n * @param [SketchLayer] layer - the text layer to adjust\n */\napp.adjustTextToFit = function(layer) {\n\tlet firstFrag = layer.fragments[0];\n\tlet lastFrag = layer.fragments[layer.fragments.length - 1];\n\n\t//adjust y first for middle/bottom aligned text\n\tlet oldY = layer.frame.y;\n\tlet newY = oldY + firstFrag.rect.y;\n\n\t//add up heights of all lines, set new height\n\tlet oldHeight = layer.frame.height;\n\n\t//this doesn't work because there can be space between lines\n\t//(as in empty lines aren't fragments)\n\t//let newHeight = layer.fragments.reduce((sum, frag) => (sum + frag.rect.height), 0);\n\n\t//instead, just do lastFrag.y + lastFrag.height and subtract firstFrag.y for\n\t//non-top-aligned text\n\tlet newHeight = lastFrag.rect.y + lastFrag.rect.height - firstFrag.rect.y;\n\n\tif(newHeight !== oldHeight) {\n\t\tlayer.frame.y = newY;\n\t\tlayer.frame.height = newHeight;\n\t}\n};\n\n/**\n * Build a string from a results object returned from #adjustLayers\n * @param [object] results - The results object to use\n * @returns [string] the results string\n */\napp.resultsString = function(results) {\n\t//this isn't ideal but it's easier than putting layer types in their own object\n\tlet numFailed = results.failed;\n\tdelete results.failed;\n\n\tlet numUnaffected = results.unaffected;\n\tdelete results.unaffected;\n\n\t//create an array of '# things' strings\n\tlet plurals = [];\n\n\tfor(let cat in results) {\n\t\tif(results.hasOwnProperty(cat)) {\n\t\t\tlet num = results[cat];\n\n\t\t\t//lazy\n\t\t\tif(cat === 'text') cat = 'text layer';\n\t\t\tif(cat === 'symbolmaster') cat = 'symbol';\n\n\t\t\tplurals.push(util.pluralize(num, cat));\n\t\t}\n\t}\n\n\t//only show relevant parts, join with comma\n\tlet ret = [];\n\n\tif(plurals.length > 0) ret.push(`${util.commify(plurals)} adjusted successfully`);\n\tif(numUnaffected > 0) ret.push(`${util.pluralize(numUnaffected, 'layer')} unaffected`);\n\tif(numFailed > 0) ret.push(`${numFailed} failed`);\n\n\treturn ret.join(', ');\n};\n\n//done\nmodule.exports.adjustSelected = app.adjustSelected;\nmodule.exports.adjustNested = app.adjustNested;\nmodule.exports.adjustSelectedInvisible = app.adjustSelectedInvisible;\nmodule.exports.adjustNestedInvisible = app.adjustNestedInvisible;\n","var util = module.exports = {};\n\n/**\n * Add an 's' to a string if necessary\n * @param [number] num - the number of objects\n * @param [string] string - the name of the object\n * @returns [string] A string in the format of '<num> <string>/s'\n */\nutil.pluralize = function(num, string) {\n\tif(num > 1) string += 's';\n\n\treturn `${num} ${string}`;\n};\n\n/**\n * Add commas to an array of strings\n * @param [string[]] arr - the strings to commify\n * @returns [string] a commified string\n */\nutil.commify = function(arr) {\n\tswitch(arr.length) {\n\t\tcase 0:\n\t\t\treturn;\n\n\t\tcase 1:\n\t\t\treturn arr[0];\n\n\t\tcase 2:\n\t\t\treturn `${arr[0]} and ${arr[1]}`;\n\n\t\tdefault:\n\t\t\tlet last = arr.pop();\n\n\t\t\treturn arr.join(', ') + ` and ${last}`;\n\t}\n};","module.exports = require(\"sketch\");"],"sourceRoot":""}